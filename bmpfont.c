#include "GlobalDefine.h"
#include "bmpfont.h"
//单字宽，单位bit
#define WIDTH 8
//单字高，单位行(bit)
#define HEIGHT 15
const uint8_t fnt[] = {
    /*--  文字:     --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

    /*--  文字:  A  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x10,0x10,0x28,0x28,0x28,0x28,0x7C,0x44,0x44,0xEE,0x00,0x00,

    /*--  文字:  B  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xFC,0x42,0x42,0x44,0x78,0x44,0x42,0x42,0x42,0xFC,0x00,0x00,

    /*--  文字:  C  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3E,0x42,0x82,0x80,0x80,0x80,0x80,0x82,0x44,0x38,0x00,0x00,

    /*--  文字:  D  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xF8,0x44,0x42,0x42,0x42,0x42,0x42,0x42,0x44,0xF8,0x00,0x00,

    /*--  文字:  E  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xFC,0x42,0x48,0x48,0x78,0x48,0x48,0x40,0x42,0xFC,0x00,0x00,

    /*--  文字:  F  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xFC,0x42,0x48,0x48,0x78,0x48,0x48,0x40,0x40,0xE0,0x00,0x00,

    /*--  文字:  G  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3C,0x44,0x84,0x80,0x80,0x80,0x8E,0x84,0x44,0x38,0x00,0x00,

    /*--  文字:  H  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x44,0x44,0x44,0x7C,0x44,0x44,0x44,0x44,0xEE,0x00,0x00,

    /*--  文字:  I  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x7C,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,

    /*--  文字:  J  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3E,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x88,0xF0,

    /*--  文字:  K  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x44,0x48,0x50,0x70,0x50,0x48,0x48,0x44,0xEE,0x00,0x00,

    /*--  文字:  L  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xE0,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x42,0xFE,0x00,0x00,

    /*--  文字:  M  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x6C,0x6C,0x6C,0x6C,0x54,0x54,0x54,0x54,0xD6,0x00,0x00,

    /*--  文字:  N  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x64,0x64,0x54,0x54,0x54,0x4C,0x4C,0x4C,0xE4,0x00,0x00,

    /*--  文字:  O  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,0x82,0x44,0x38,0x00,0x00,

    /*--  文字:  P  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xFC,0x42,0x42,0x42,0x7C,0x40,0x40,0x40,0x40,0xE0,0x00,0x00,

    /*--  文字:  Q  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x38,0x44,0x82,0x82,0x82,0x82,0x82,0xB2,0x4C,0x38,0x06,0x00,

    /*--  文字:  R  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xF8,0x44,0x44,0x44,0x78,0x50,0x48,0x48,0x44,0xE6,0x00,0x00,

    /*--  文字:  S  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3E,0x42,0x42,0x40,0x30,0x0C,0x02,0x42,0x42,0x7C,0x00,0x00,

    /*--  文字:  T  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xFE,0x92,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x38,0x00,0x00,

    /*--  文字:  U  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x38,0x00,0x00,

    /*--  文字:  V  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x44,0x44,0x44,0x28,0x28,0x28,0x28,0x10,0x10,0x00,0x00,

    /*--  文字:  W  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xD6,0x54,0x54,0x54,0x54,0x6C,0x28,0x28,0x28,0x28,0x00,0x00,

    /*--  文字:  X  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x44,0x28,0x28,0x10,0x10,0x28,0x28,0x44,0xEE,0x00,0x00,

    /*--  文字:  Y  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0xEE,0x44,0x44,0x28,0x28,0x10,0x10,0x10,0x10,0x38,0x00,0x00,

    /*--  文字:  Z  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3E,0x44,0x04,0x08,0x08,0x10,0x10,0x20,0x22,0x7E,0x00,0x00,

    /*--  文字:  a  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x44,0x0C,0x34,0x44,0x4C,0x36,0x00,0x00,

    /*--  文字:  b  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0xC0,0x40,0x40,0x40,0x5C,0x62,0x42,0x42,0x42,0x42,0x7C,0x00,0x00,

    /*--  文字:  c  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x22,0x40,0x40,0x40,0x22,0x1C,0x00,0x00,

    /*--  文字:  d  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x06,0x02,0x02,0x02,0x3E,0x42,0x42,0x42,0x42,0x46,0x3B,0x00,0x00,

    /*--  文字:  e  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x42,0x42,0x7E,0x40,0x42,0x3C,0x00,0x00,

    /*--  文字:  f  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x0C,0x12,0x10,0x10,0x7C,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,

    /*--  文字:  g  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x44,0x44,0x38,0x40,0x3C,0x42,0x42,0x3C,

    /*--  文字:  h  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0xC0,0x40,0x40,0x40,0x5C,0x62,0x42,0x42,0x42,0x42,0xE7,0x00,0x00,

    /*--  文字:  i  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x30,0x30,0x00,0x00,0x70,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,

    /*--  文字:  j  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x0C,0x0C,0x00,0x00,0x1C,0x04,0x04,0x04,0x04,0x04,0x04,0x44,0x78,

    /*--  文字:  k  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0xC0,0x40,0x40,0x40,0x4E,0x48,0x50,0x68,0x48,0x44,0xEE,0x00,0x00,

    /*--  文字:  l  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,

    /*--  文字:  m  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x54,0x54,0x54,0x54,0x54,0xD6,0x00,0x00,

    /*--  文字:  n  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xDC,0x62,0x42,0x42,0x42,0x42,0xE7,0x00,0x00,

    /*--  文字:  o  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x24,0x42,0x42,0x42,0x24,0x18,0x00,0x00,

    /*--  文字:  p  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xDC,0x62,0x42,0x42,0x42,0x62,0x5C,0x40,0xE0,

    /*--  文字:  q  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x3A,0x46,0x42,0x42,0x42,0x46,0x3A,0x02,0x07,

    /*--  文字:  r  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xEE,0x32,0x20,0x20,0x20,0x20,0xF8,0x00,0x00,

    /*--  文字:  s  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x44,0x40,0x38,0x04,0x44,0x78,0x00,0x00,

    /*--  文字:  t  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x10,0x10,0x7C,0x10,0x10,0x10,0x10,0x12,0x0C,0x00,0x00,

    /*--  文字:  u  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xC6,0x42,0x42,0x42,0x42,0x46,0x3B,0x00,0x00,

    /*--  文字:  v  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xEE,0x44,0x44,0x28,0x28,0x10,0x10,0x00,0x00,

    /*--  文字:  w  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xD6,0x54,0x54,0x54,0x28,0x28,0x28,0x00,0x00,

    /*--  文字:  x  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x24,0x18,0x18,0x18,0x24,0x6E,0x00,0x00,

    /*--  文字:  y  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0xE7,0x42,0x24,0x24,0x18,0x18,0x10,0x10,0x60,

    /*--  文字:  z  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x7E,0x44,0x08,0x10,0x10,0x22,0x7E,0x00,0x00,

    /*--  文字:  0  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x18,0x24,0x42,0x42,0x42,0x42,0x42,0x42,0x24,0x18,0x00,0x00,

    /*--  文字:  1  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x10,0x70,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,

    /*--  文字:  2  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3C,0x42,0x42,0x02,0x04,0x08,0x10,0x20,0x42,0x7E,0x00,0x00,

    /*--  文字:  3  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3C,0x42,0x42,0x04,0x18,0x04,0x02,0x42,0x42,0x3C,0x00,0x00,

    /*--  文字:  4  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x04,0x0C,0x0C,0x14,0x24,0x44,0x7F,0x04,0x04,0x1E,0x00,0x00,

    /*--  文字:  5  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x7E,0x40,0x40,0x7C,0x42,0x02,0x02,0x42,0x42,0x3C,0x00,0x00,

    /*--  文字:  6  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x18,0x24,0x40,0x5C,0x62,0x42,0x42,0x42,0x22,0x1C,0x00,0x00,

    /*--  文字:  7  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x7E,0x42,0x04,0x08,0x08,0x08,0x10,0x10,0x10,0x10,0x00,0x00,

    /*--  文字:  8  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x3C,0x42,0x42,0x42,0x3C,0x24,0x42,0x42,0x42,0x3C,0x00,0x00,

    /*--  文字:  9  --*/
    /*--  宋体11;  此字体下对应的点阵为：宽x高=8x15   --*/
    0x00,0x00,0x00,0x38,0x44,0x42,0x42,0x46,0x3A,0x02,0x02,0x24,0x18,0x00,0x00,


};

#define SET(dx,dy,r,g,b)

void FillBitmap(GLubyte * map,int x,int y,char * text){
    while(*text){
        //绘制字符的下标
        int beg = 0;
        if(*text >= 'A' && * text <='Z'){
            beg = *text - 'A' + 1;
        }else if(*text >='a' && *text <='z'){
            beg = * text - 'a'+1 + ('Z'-'A' + 1);
        }else if(*text >='0' && *text <='9'){
            beg = *text - '0' + 1 + 'z' - 'a'+1 + ('Z'-'A' + 1);
        }
        beg *= WIDTH * HEIGHT / 8;
        for(int yo=0;yo<HEIGHT;yo++){
            if(y + yo >=ORI_HEIGHT)
                break;
            for(int i=0;i<WIDTH;i++){
                if(x + i >= ORI_WIDTH)
                    break;
                if(fnt[beg] & (1<<(7-i))){
                        int p = ((ORI_HEIGHT - 1  - (y+yo)) * ORI_WIDTH + (x+i))*3;
                        if(p<0)
                            continue;
                        map[p] = 255;
                        map[++p] = 0;
                        map[++p] = 0;
                }
            }
            beg++;
        }
        x += WIDTH;
        if(x >=ORI_WIDTH)
            return;
        text++;
    }
}
